<!doctype html>
<html lang="en" class="home-page">
  <head>
  	<title>Eazy Template Home Page</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="favicon.ico">
    <script src="js/vendor/modernizr.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/vendor/fastclick.js"></script>
	<script src="https://w.soundcloud.com/player/api.js" type="text/javascript"></script>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/style.css" />
</head>
<body class="home-page">

	<!-- mobile nav -->
	<div class="mobile-header">
		<i class="fa fa-bars"></i>
		<img src="img/logo.png" class="header-logo">
	</div>

	<!-- mobile menu -->
	<div class="mobile-menu">
		<i class="fa fa-times"></i>
		<ul>
			<li><a href="music.html">Music</a></li>
			<li><a href="video.html">Videos</a></li>
			<li><a href="index.html#tour">Tour</a></li>
			<li><a href="#">Shop</a></li>
			<li><a href="mailto:band@band.com">Contact</a></li>
		</ul>
		<div class="footer small-12 menu-footer">
			<div class="copyright menu-copyright">
				&copy; EAZY. All rights reserved.
			</div>
			<div class="socials">
				<a href="http://www.facebook.com/g.eazy" target="_blank"><i class="fa fa-facebook"></i></a>
				<a href="http://www.twitter.com/g_eazy" target="_blank"><i class="fa fa-twitter"></i></a>
				<a href="http://www.instagram.com/g_eazy" target="_blank"><i class="fa fa-instagram"></i></a>
				<a href="http://www.soundcloud.com/g-eazy" target="_blank"><i class="fa fa-soundcloud"></i></a>
			</div>
		</div>
	</div>

	<!-- HEADER -->
	<a name="top" class="tippy-top"></a>

	<div class="header small-12">
		<img src="img/header.jpg" class="header-image">
		<div class="header-text small-12">
			EAZY
		</div>	
		<div class="nav">
			<ul>
				<li><a href="music.html">Music</a></li>
				<li><a href="video.html">Videos</a></li>
				<li><a href="#tour">Tour</a></li>
				<li><a href="#">Shop</a></li>
				<li><a href="mailto:band@band.com">Contact</a></li>
			</ul>	
		</div>
		<div class="down small-12">
			<a href="#video"><img src="img/down.png" class="down-arrow"></a>
		</div>
	</div>

	<!-- VIDEO -->
	<a name="video"></a>
	<div class="video small-12" id="video-play-button">
		<i class="fa fa-play video-play"></i>
		<iframe src="https://player.vimeo.com/video/102565912?api=1" class="vimeo" id="play-this" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>

	<!-- AUDIO -->
	<div class="audio small-12">
		<div class="album-art">
			<img src="img/first-cover.jpg" class="main-album-image">
		</div>
		<div class="album-quote">
			<a href="https://itunes.apple.com/us/album/far-alone-feat.-e-40-jay-ant/id868738564?i=868738570" class="album-title-link" target="_blank">
				<span class="listen">Buy the album on itunes</span>
				<span class="album-title">"These Things Happen"</span>
			</a>
		</div>
		<div class="player">
			<div class="cover-soundcloud"></div>
			<div class="song-title"></div>
			<div class="player-buttons">
				<i class="fa fa-backward"></i>
				<i class="fa fa-play playpause"></i>
				<i class="fa fa-forward"></i>
				<span class="player-progress"></span>
			</div>
			<iframe class="soundcloud" id="main-soundcloud" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/20638006&amp;color=eeeeee&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;buying=false&amp;liking=false&amp;show_artwork=false"></iframe>
		</div>
	</div>

	<!-- TOUR -->
	<a name="tour"></a>
	<div class="tour small-12">
		<img src="img/tour.jpg" class="tour-image">
		<div class="tour-text">
			Tour
		</div>
		<div class="tour-dates small-12">
			<div class="row">
				<a href="http://electricadventure.com/2015-tickets/" target="_blank" class="ticket-link">
					<div class="small-3 medium-3 date">08.02.15</div>
					<div class="small-8 medium-3 city">Atlantic City, NJ</div>
					<div class="small-11 medium-3 venue">Electric Adventure</div>
				</a>
			</div>
			<div class="row">
				<a href="http://www.sfoutsidelands.com/tickets" target="_blank" class="ticket-link">
					<div class="small-3 medium-3 date">08.08.15</div>
					<div class="small-8 medium-3 city">San Francisco, CA</div>
					<div class="small-11 medium-3 venue">Outside Lands</div>
				</a>
			</div>
			<div class="row">
				<a href="http://www.summerendsmusicfestival.info/" target="_blank" class="ticket-link">
					<div class="small-3 medium-3 date">09.26.15</div>
					<div class="small-8 medium-3 city">Tempe, AZ</div>
					<div class="small-11 medium-3 venue">Summer Ends Music Fest</div>
				</a>
			</div>
			<div class="row">
				<a href="http://www.maddecentboatparty.com/prices/" target="_blank" class="ticket-link">
					<div class="small-3 medium-3 date">11.11.15</div>
					<div class="small-8 medium-3 city">Caribbean</div>
					<div class="small-11 medium-3 venue">Mad Decent Boat Party</div>
				</a>
			</div>

		</div>
		<div class="back-to-top">
			<a href="#top">back to top</a>
		</div>
	</div>

	<div class="footer small-12">
		<div class="copyright">
			&copy; EAZY. All rights reserved.
		</div>
		<div class="socials">
			<a href="http://www.facebook.com/g.eazy" target="_blank"><i class="fa fa-facebook"></i></a>
			<a href="http://www.twitter.com/g_eazy" target="_blank"><i class="fa fa-twitter"></i></a>
			<a href="http://www.instagram.com/g_eazy" target="_blank"><i class="fa fa-instagram"></i></a>
			<a href="http://www.soundcloud.com/g-eazy" target="_blank"><i class="fa fa-soundcloud"></i></a>
		</div>
	</div>	
	<script src="https://f.vimeocdn.com/js/froogaloop2.min.js"></script>
    <script type="text/javascript">
  // soundcloud widget api stuff
  (function(){
    var widgetIframe = document.getElementById('main-soundcloud'),
        widget       = SC.Widget(widgetIframe);

        // map play button
        $('.playpause').click(function() {
			widget.toggle();
		});

		// map back button
		$('.fa-backward').click(function() {
			widget.prev();
		});
		// map forward button
        $('.fa-forward').click(function() {
			widget.next();
		});

    // get info and cover for first song once the player loads
    widget.bind(SC.Widget.Events.READY, function() {
    	widget.skip(1);
    	widget.pause();
    	widget.getCurrentSound(function(currentSound) {
          $('.song-title').text(currentSound.user.username + ' - ' + currentSound.title);
          artwork_url = currentSound.artwork_url.replace('-large', '-t500x500');
    	  $('.main-album-image').attr('src', artwork_url);
        });

    	var songDuration;
    	var songPosition;
      // get info and cover for current song when you hit the play button
      widget.bind(SC.Widget.Events.PLAY, function() {
        widget.getCurrentSound(function(currentSound) {
          $('.song-title').text(currentSound.user.username + ' - ' + currentSound.title);
          artwork_url = currentSound.artwork_url.replace('-large', '-t500x500');
    	  $('.main-album-image').attr('src', artwork_url);
        });

        // update the progress bar
    	widget.getDuration(function(duration){
    		songDuration = duration;
    	});
        setInterval(function(){
			widget.getPosition(function(position){
            	var songPosition = position;
            	// console.log("complete percentage: " + (songPosition/songDuration)*100);
            	$('.player-progress').css('background-size', (songPosition/songDuration)*100 + '%');
        	});
		}, 100);
      });
    });

  }());

  // flip soundcloud play and pause button
  var playCount = 0;
  $('.playpause').click(function(){
  	if (playCount % 2 == 0) {
  		$('.playpause').addClass('fa-pause');
  		$('.playpause').removeClass('fa-play');
  		playCount++;
  	} else {
  		$('.playpause').removeClass('fa-pause');
  		$('.playpause').addClass('fa-play');
  		playCount++;
  	}
  });

  // open and close mobile menu
  $('.fa-bars').click(function(){
  	$('.mobile-menu').css('display', 'block');
  });
  $('.fa-times').click(function(){
  	$('.mobile-menu').css('display', 'none');
  });
  $('.mobile-menu ul li').click(function(){
  	$('.mobile-menu').css('display', 'none');
  });
  $('.mobile-menu ul li a').click(function(){
  	$('.mobile-menu').css('display', 'none');
  });

  $(document).ready(function(){

  	  // mobile only hacks
	  if ($(window).innerWidth() < 769) {

  		// adjust tour background image for mobile
	  	var tourImage = document.getElementsByClassName('tour-image')[0].src;
	  	$('.tour').css({'background-image' : 'url(' + tourImage + ')', 'background-size' : 'cover'})
	  	$('.tour-image').css('display', 'none');

	  	// adjust main header background image for mobile
	  	var headerImage = document.getElementsByClassName('header-image')[0].src;
	  	$('.header').css({'background-image' : 'url(' + headerImage + ')', 'background-size' : 'cover', 'background-position' : '50%'});
	  	$('.header-image').css('display', 'none');

	  	// switch order of album cover and itunes link on mobile
	  	$(".album-art").insertAfter(".album-quote");

	  	// back to top link
	  	$('.tippy-top').click(function(){
	  		$(window).scrollTop('0');
	  	});

	  }

	  // desktop only hacks
	  if ($(window).innerWidth() >= 769) {

    	// smooth scroll for anchors
		$(function() {
		  $('a[href*=#]:not([href=#])').click(function() {
		    if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		      var target = $(this.hash);
		      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
		      if (target.length) {
		        $('html,body').animate({
		          scrollTop: target.offset().top
		        }, 1000);
		        return false;
		      }
		    }
		  });
		});
	  }
  });

    // hide video play button when clicked
  var videoCount = 0;
  $('i.video-play').click(function(){
  	$('i.video-play').css('display','none');
  });
  $('div.video').click(function(){
  	$('i.video-play').css('display','none');
  }); 
  $('iframe.vimeo').click(function(){
  	$('i.video-play').css('display','none');
  }); 
	document.getElementById('video-play-button').addEventListener('click', function(){
		document.getElementsByClassName('video-play')[0].style.display = none;
	}, false);
        

</script>

<!-- vimeo skinning -->
<script src="js/froogaloop.js"></script>
<script type="text/javascript">
var iframe = document.getElementById('play-this');

// $f == Froogaloop
var player = $f(iframe);

var playButton = document.getElementById("video-play-button");
playButton.addEventListener("click", function() {
  player.api("play");
});

function onPause() {
	$('i.video-play').css('display','block');
};

player.addEvent('ready', function() {    
    player.addEvent('pause', onPause);
});

</script>

</body>
</html>